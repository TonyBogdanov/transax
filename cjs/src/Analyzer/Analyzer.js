"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const Logger_1=require("../Logger/Logger"),peg_1=require("./peg");class Options{constructor(e={}){var n;this.names=null!=(n=e.names)?n:["$t"],this.logger=null!=(n=e.logger)?n:new Logger_1.default({namespace:"Analyzer"})}}class Analyzer{skip(e,n){n=n?`in: ${n}::${e.line}:${e.column}.`:`at: ${e.line}:${e.column}.`;this.options.logger.verbose(`Skipping ${e.text} because: "${e.name}" isn't in the list of allowed names `+n)}constructor(e={}){this.options=new Options(e)}analyze(e,n){this.options.logger.log(`Analyzing: ${n||"[inline code]"}.`);var s=[];for(const o of(0,peg_1.default)(e))-1===this.options.names.indexOf(o.name)?this.skip(o,n):(o.source=n,s.push(o));return s}}exports.default=Analyzer;