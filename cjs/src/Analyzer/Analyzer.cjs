"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const AnalyzerOptions_1=require("./AnalyzerOptions.cjs"),peg_1=require("./peg.cjs");class Analyzer{skip(e,n){n=n?`in: ${n}::${e.line}:${e.column}.`:`at: ${e.line}:${e.column}.`;this.options.logger.verbose(`Skipping ${e.text} because: "${e.name}" isn't in the list of allowed names `+n)}constructor(e={}){this.options=e instanceof AnalyzerOptions_1.default?e:new AnalyzerOptions_1.default(e)}analyze(e,n){this.options.logger.log(`Analyzing: ${n||"[inline code]"}.`);var t=[];for(const s of(0,peg_1.default)(e))-1===this.options.names.indexOf(s.name)?this.skip(s,n):(s.source=n,s.key=this.options.keyFormatter(s.key,s),t.push(s));return t}}exports.default=Analyzer;