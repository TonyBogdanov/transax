"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const AnalyzerOptions_1=require("./AnalyzerOptions.cjs"),peg_1=require("./peg.cjs");class Analyzer{suffix(e,s){return s?`in: ${s}::${e.line}:${e.column}.`:`at: ${e.line}:${e.column}.`}skip(e,s){this.options.logger.verbose(`Skipping ${e.text} because: "${e.name}" isn't in the list of allowed names `+this.suffix(e,s))}register(e,s){this.options.logger.verbose(`Registering ${e.text} `+this.suffix(e,s))}constructor(e={}){this.options=e instanceof AnalyzerOptions_1.default?e:new AnalyzerOptions_1.default(e)}analyze(e,s){this.options.logger.log(`Analyzing: ${s||"[inline code]"}.`);var t=[];for(const i of(0,peg_1.default)(e))-1===this.options.names.indexOf(i.name)?this.skip(i,s):(i.source=s,i.key=this.options.keyFormatter(i.key,i),this.register(i,s),t.push(i));return t}}exports.default=Analyzer;