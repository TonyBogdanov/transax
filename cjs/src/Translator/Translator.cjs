"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const TranslatorOptions_1=require("./TranslatorOptions.cjs");class Translator{constructor(o={}){this.options=o instanceof TranslatorOptions_1.default?o:new TranslatorOptions_1.default(o)}translate(o,l={}){var t;if(l.locale)if(l.locale in this.options.translations){if(o in this.options.translations[l.locale])return"string"==typeof(t=this.options.translations[l.locale][o])?t:t(null!=(t=l.params)?t:{},null!=(t=l.globals)?t:{});null!=(t=this.options.logger)&&t.verbose(`Key "${o}" does not exist in the catalog for locale: "${l.locale}", resorting to fallback locale.`)}else null!=(t=this.options.logger)&&t.verbose(`Locale: "${l.locale}" does not exist in the catalog, resorting to fallback locale.`);else null!=(t=this.options.logger)&&t.verbose("Locale is not specified, resorting to fallback locale.");if(this.options.fallbackLocale)if(this.options.fallbackLocale in this.options.translations){if(o in this.options.translations[this.options.fallbackLocale])return"string"==typeof(t=this.options.translations[this.options.fallbackLocale][o])?t:t(null!=(t=l.params)?t:{},null!=(t=l.globals)?t:{});null!=(l=this.options.logger)&&l.log(`Key: "${o}" does not exist in the catalog for fallback locale: "${this.options.fallbackLocale}".`)}else null!=(t=this.options.logger)&&t.log(`Fallback locale: "${this.options.fallbackLocale}" does not exist in the catalog.`);else null!=(l=this.options.logger)&&l.log("Fallback locale is not specified.");return o}}exports.default=Translator;