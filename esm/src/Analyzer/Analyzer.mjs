import AnalyzerOptions from"./AnalyzerOptions.mjs";import parse from"./peg.mjs";export default class Analyzer{skip(n,e){e=e?`in: ${e}::${n.line}:${n.column}.`:`at: ${n.line}:${n.column}.`;this.options.logger.verbose(`Skipping ${n.text} because: "${n.name}" isn't in the list of allowed names `+e)}constructor(n={}){this.options=n instanceof AnalyzerOptions?n:new AnalyzerOptions(n)}analyze(n,e){this.options.logger.log(`Analyzing: ${e||"[inline code]"}.`);var o=[];for(const s of parse(n))-1===this.options.names.indexOf(s.name)?this.skip(s,e):(s.source=e,s.key=this.options.keyFormatter(s.key,s),o.push(s));return o}}