import Plugin from"./Plugin.mjs";export default function VitePlugin(n){const i=new Plugin(n),o=i.createDictionaryWatcher(),e=i.createInputWatcher();return{name:"vite-plugin-transax",buildStart(){e.on("add",i.loadDictionary.bind(i)),e.on("change",i.loadDictionary.bind(i)),e.on("unlink",i.removeDictionary.bind(i)),o.on("add",i.loadInput.bind(i)),o.on("change",i.loadInput.bind(i)),o.on("unlink",i.removeInput.bind(i)),i.loadDictionaries(),i.loadInputs()},closeBundle(){return Promise.all([o.close(),e.close()])}}}